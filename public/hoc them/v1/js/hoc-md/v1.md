# v1

1. Thiết lập cấu trúc dự án cơ bản
Đầu tiên, hãy tạo một cấu trúc thư mục đơn giản. Bạn sẽ cần ba tệp:

index.html: Điểm vào chính của ứng dụng.
style.css: Để tạo kiểu cho giao diện.
app.js: Chứa toàn bộ logic JavaScript của SPA.
your-spa-project/
├── index.html
├── style.css
└── app.js
2. index.html - Khung sườn của SPA
index.html sẽ là tệp HTML duy nhất. Nó chỉ chứa một phần tử div làm "container" cho nội dung SPA, cùng với các liên kết tới CSS và JavaScript.

HTML

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vanilla JS SPA</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <a href="#home">Trang chủ</a> |
        <a href="#about">Giới thiệu</a> |
        <a href="#contact">Liên hệ</a>
    </nav>

    <div id="app">
        Đang tải nội dung...
    </div>

    <script src="app.js"></script>
</body>
</html>
Giải thích:

<div id="app">: Đây là nơi tất cả nội dung ứng dụng của bạn sẽ được chèn vào bởi JavaScript.
<nav>: Một thanh điều hướng đơn giản với các liên kết sử dụng hash (dấu #). Chúng ta sẽ sử dụng hash trong URL để xác định trang nào đang được hiển thị mà không cần tải lại toàn bộ trang.
3. style.css - Một chút CSS
Thêm một vài kiểu cơ bản để ứng dụng trông đỡ hơn.

CSS

body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background-color: #f4f4f4;
    color: #333;
}

nav {
    margin-bottom: 20px;
    background-color: #333;
    padding: 10px;
    border-radius: 5px;
}

nav a {
    color: white;
    text-decoration: none;
    padding: 10px 15px;
    border-radius: 4px;
    transition: background-color 0.3s ease;
}

nav a:hover {
    background-color: #555;
}

#app {
    background-color: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

h1 {
    color: #007bff;
}
4. app.js - Logic SPA chính
Đây là phần quan trọng nhất. Chúng ta sẽ định nghĩa các "trang" và logic để hiển thị chúng dựa trên URL hash.

JavaScript

// app.js

// 1. Lấy tham chiếu đến phần tử chứa nội dung SPA
const app = document.getElementById('app');

// 2. Định nghĩa các "trang" dưới dạng hàm
// Mỗi hàm sẽ trả về một chuỗi HTML hoặc tạo các phần tử DOM trực tiếp

function getHomePageContent() {
    return `
        <h1>Chào mừng bạn đến với SPA của tôi!</h1>
        <p>Đây là trang chủ. Bạn có thể điều hướng đến các trang khác bằng cách nhấp vào các liên kết ở trên.</p>
        <p>Ứng dụng này chỉ sử dụng Vanilla JavaScript ở phía frontend.</p>
    `;
}

function getAboutPageContent() {
    return `
        <h1>Giới thiệu</h1>
        <p>Đây là một ví dụ đơn giản về ứng dụng một trang (SPA) được xây dựng hoàn toàn bằng HTML, CSS và JavaScript.</p>
        <p>Mục đích là để minh họa cách định tuyến và hiển thị nội dung mà không cần tải lại trang.</p>
    `;
}

function getContactPageContent() {
    return `
        <h1>Liên hệ</h1>
        <p>Nếu bạn có bất kỳ câu hỏi nào, vui lòng liên hệ:</p>
        <ul>
            <li>Email: example@example.com</li>
            <li>Điện thoại: 123-456-7890</li>
        </ul>
    `;
}

function getNotFoundPageContent() {
    return `
        <h1>404 - Không tìm thấy trang</h1>
        <p>Trang bạn đang tìm kiếm không tồn tại.</p>
        <p>Vui lòng kiểm tra lại URL hoặc quay lại <a href="#home">Trang chủ</a>.</p>
    `;
}

// 3. Hàm xử lý định tuyến (Routing)
// Hàm này sẽ quyết định nội dung nào sẽ được hiển thị dựa trên URL hash

function handleRouting() {
    // Lấy hash từ URL (ví dụ: "#home" -> "home")
    const hash = window.location.hash.substring(1); // .substring(1) để bỏ ký tự '#'

    let content = '';

    switch (hash) {
        case 'home':
        case '': // Nếu không có hash hoặc hash rỗng, mặc định là trang chủ
            content = getHomePageContent();
            break;
        case 'about':
            content = getAboutPageContent();
            break;
        case 'contact':
            content = getContactPageContent();
            break;
        default: // Nếu hash không khớp với bất kỳ trang nào
            content = getNotFoundPageContent();
            break;
    }

    // Cập nhật nội dung của phần tử 'app'
    app.innerHTML = content;
}

// 4. Lắng nghe sự kiện thay đổi hash
// Mỗi khi URL hash thay đổi (ví dụ: người dùng click vào liên kết), hàm handleRouting sẽ được gọi

window.addEventListener('hashchange', handleRouting);

// 5. Gọi hàm handleRouting một lần khi tải trang ban đầu
// Điều này đảm bảo rằng nội dung phù hợp được hiển thị ngay khi ứng dụng được tải lần đầu tiên
handleRouting();
5. Cách chạy ứng dụng
Lưu ba tệp (index.html, style.css, app.js) vào cùng một thư mục.
Mở tệp index.html bằng trình duyệt của bạn (kéo và thả vào trình duyệt, hoặc nhấp đúp vào tệp).
Bây giờ, khi bạn nhấp vào các liên kết "Trang chủ", "Giới thiệu" hay "Liên hệ", bạn sẽ thấy nội dung của trang thay đổi mà không cần trình duyệt tải lại toàn bộ trang! URL trên thanh địa chỉ cũng sẽ thay đổi (#home, #about, #contact).

Các khái niệm cơ bản đã được áp dụng:
DOM Manipulation: JavaScript tương tác với HTML bằng cách lấy các phần tử (ví dụ: document.getElementById('app')) và thay đổi nội dung của chúng (app.innerHTML = content).
Sự kiện (Events): Lắng nghe sự kiện hashchange trên đối tượng window cho phép chúng ta phản ứng khi URL hash thay đổi.
Định tuyến phía client (Client-side Routing): Thay vì yêu cầu server cung cấp trang mới, JavaScript tự động thay đổi nội dung hiển thị dựa trên URL hash. Đây là cốt lõi của một SPA.
Trạng thái ứng dụng đơn giản: Mỗi "trang" là một trạng thái mà ứng dụng có thể ở đó, và chúng ta chuyển đổi giữa các trạng thái này bằng cách thay đổi nội dung hiển thị.
Đây là một khởi đầu vững chắc để bạn hiểu cách một SPA hoạt động ở cấp độ cơ bản nhất chỉ với Vanilla JavaScript! Bạn có muốn mở rộng ứng dụng này với các tính năng khác không, ví dụ như tạo các thành phần tái sử dụng?